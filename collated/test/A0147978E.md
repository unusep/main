# A0147978E
###### /java/guitests/AddCommandTest.java
``` java
package guitests;

import static org.junit.Assert.assertTrue;

import java.util.List;

import org.junit.Test;

import com.google.common.collect.Lists;

import seedu.doerList.commons.core.Messages;
import seedu.doerList.commons.exceptions.IllegalValueException;
import seedu.doerList.logic.commands.AddCommand;
import seedu.doerList.model.category.BuildInCategoryList;
import seedu.doerList.testutil.TestCategory;
import seedu.doerList.testutil.TestTask;
import seedu.doerList.testutil.TypicalTestTasks;

public class AddCommandTest extends DoerListGuiTest {

    @Test
    public void add_tasks_successful() throws IllegalValueException {
        // define expected output
        List<TestCategory> expectedDisplayTaskPanel = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.DUE.categoryName, td.task9, td.task2),
                new TestCategory(BuildInCategoryList.TODAY.categoryName, td.task3, td.task10),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, td.task11, td.task6),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, td.task12, td.task7),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, td.task1, td.task4, td.task5, td.task8)
        );
        List<TestCategory> expectedBuildInCategoryList = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.ALL.categoryName, 12),
                new TestCategory(BuildInCategoryList.TODAY.categoryName, 3),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, 3),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, 3),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, 4)
        );
        List<TestCategory> expectedCategoryList = Lists.newArrayList(
                new TestCategory("CS2101", 2),
                new TestCategory("CS2103", 2),
                new TestCategory("MA1101R", 1),
                new TestCategory("Urgent", 1),
                new TestCategory("Life", 1)
        );
        // add tasks at once
        commandBox.runCommand(TypicalTestTasks.task9.getAddCommand());
        commandBox.runCommand(TypicalTestTasks.task10.getAddCommand());
        commandBox.runCommand(TypicalTestTasks.task11.getAddCommand());
        TestTask taskToAdd = TypicalTestTasks.task12;
        assertAddSuccess(taskToAdd, expectedDisplayTaskPanel, expectedBuildInCategoryList, expectedCategoryList);


        // add duplicate task no change
        commandBox.runCommand(TypicalTestTasks.task3.getAddCommand());
        assertResultMessage(AddCommand.MESSAGE_DUPLICATE_TASK);
        assertTrue(categorySideBar.isBuildInCategoryListMatching(expectedBuildInCategoryList));
        assertTrue(categorySideBar.categoryListMatching(expectedCategoryList));
        assertTrue(taskListPanel.isListMatching(expectedDisplayTaskPanel));

        // add to empty todo list
        commandBox.runCommand("clear");
        List<TestCategory> expectedDisplayTaskPanel2 = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.DUE.categoryName, td.task2)
        );
        List<TestCategory> expectedBuildInCategoryList2 = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.ALL.categoryName, 1),
                new TestCategory(BuildInCategoryList.TODAY.categoryName, 0),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, 0),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, 0),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, 0)
        );
        List<TestCategory> expectedCategoryList2 = Lists.newArrayList(
                new TestCategory("CS2101", 1),
                new TestCategory("CS2103", 1)
        );
        assertAddSuccess(td.task2, expectedDisplayTaskPanel2, expectedBuildInCategoryList2, expectedCategoryList2);
              
        // invalid command
        commandBox.runCommand("adds Do Homework");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);
    }
    

    /**
     * Validating the given task has been successfully added.
     * Validating the rest of data has been updated accordingly
     * 
     * @param taskToAdd
     * @param expectedDisplayTaskPanel
     * @param expectedBuildInCategoryList
     * @param expectedCategoryList
     */
    private void assertAddSuccess(TestTask taskToAdd, 
            List<TestCategory> expectedDisplayTaskPanel, 
            List<TestCategory> expectedBuildInCategoryList, 
            List<TestCategory> expectedCategoryList) {
        
        commandBox.runCommand(taskToAdd.getAddCommand());
        assertResultMessage(String.format(AddCommand.MESSAGE_SUCCESS, taskToAdd));
        
        // confirm the list now contains accurate buildInCategory and count
        assertTrue(categorySideBar.isBuildInCategoryListMatching(expectedBuildInCategoryList));
        // confirm the list now contains accurate category and count
        assertTrue(categorySideBar.categoryListMatching(expectedCategoryList));
        
        // confirm the list now contains all tasks
        assertTrue(taskListPanel.isListMatching(expectedDisplayTaskPanel));
    }

}
```
###### /java/guitests/DeleteCommandTest.java
``` java
package guitests;

import static org.junit.Assert.assertTrue;

import java.util.List;

import org.junit.Test;

import com.google.common.collect.Lists;

import seedu.doerList.commons.core.Messages;
import seedu.doerList.commons.exceptions.IllegalValueException;
import seedu.doerList.logic.commands.DeleteCommand;
import seedu.doerList.model.category.BuildInCategoryList;
import seedu.doerList.testutil.TestCategory;
import seedu.doerList.testutil.TestTask;

public class DeleteCommandTest extends DoerListGuiTest {

    @Test
    public void delete() throws IllegalValueException {

        // delete the first in the list
        int targetIndex = 1;
        commandBox.runCommand("delete " + targetIndex);

        // delete the last in the list
        targetIndex = 7;
        commandBox.runCommand("delete " + targetIndex);

        // add task
        commandBox.runCommand(td.task10.getAddCommand());
        
        // delete from the middle of the list
        // generate expected output
        List<TestCategory> expectedDisplayTaskPanel = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.TODAY.categoryName, td.task3, td.task10),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, td.task6),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, td.task7),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, td.task4, td.task5)
        );
        List<TestCategory> expectedBuildInCategoryList = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.ALL.categoryName, 6),
                new TestCategory(BuildInCategoryList.TODAY.categoryName, 3),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, 2),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, 1),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, 2)
        );
        List<TestCategory> expectedCategoryList = Lists.newArrayList(
                new TestCategory("CS2101", 1),
                new TestCategory("CS2103", 1),
                new TestCategory("MA1101R", 1)
        );
        targetIndex = 5;
        assertDeleteSuccess(targetIndex, td.task1, expectedDisplayTaskPanel, expectedBuildInCategoryList, expectedCategoryList);
        

        // invalid index
        commandBox.runCommand("delete 7");
        assertResultMessage(Messages.MESSAGE_INVALID_TASK_DISPLAYED_INDEX);

    }
    
    /**
     * Validating the given task has been successfully deleted.
     * Validating the rest of data has been updated accordingly
     * 
     * @param targetIndexOneIndexed
     * @param deletedTask
     * @param expectedDisplayTaskPanel
     * @param expectedBuildInCategoryList
     * @param expectedCategoryList
     */
    private void assertDeleteSuccess(int targetIndexOneIndexed, TestTask deletedTask,
            List<TestCategory> expectedDisplayTaskPanel, 
            List<TestCategory> expectedBuildInCategoryList, 
            List<TestCategory> expectedCategoryList) {
        
        commandBox.runCommand("delete " + targetIndexOneIndexed);
        assertResultMessage(String.format(DeleteCommand.MESSAGE_DELETE_TASK_SUCCESS, deletedTask));
        
        // confirm the list now contains accurate buildInCategory and count
        assertTrue(categorySideBar.isBuildInCategoryListMatching(expectedBuildInCategoryList));
        // confirm the list now contains accurate category and count
        assertTrue(categorySideBar.categoryListMatching(expectedCategoryList));
        
        // confirm the list now contains all tasks
        assertTrue(taskListPanel.isListMatching(expectedDisplayTaskPanel));  
    }

}
```
###### /java/guitests/EditCommandTest.java
``` java
package guitests;

import static org.junit.Assert.assertTrue;
import static seedu.doerList.commons.core.Messages.MESSAGE_INVALID_COMMAND_FORMAT;

import java.util.List;

import org.joda.time.DateTime;
import org.junit.Test;

import com.google.common.collect.Lists;

import seedu.doerList.commons.core.Messages;
import seedu.doerList.commons.exceptions.IllegalValueException;
import seedu.doerList.logic.commands.EditCommand;
import seedu.doerList.model.category.BuildInCategoryList;
import seedu.doerList.model.category.Category;
import seedu.doerList.model.category.UniqueCategoryList;
import seedu.doerList.model.task.Description;
import seedu.doerList.model.task.Title;
import seedu.doerList.model.task.TodoTime;
import seedu.doerList.testutil.TestCategory;
import seedu.doerList.testutil.TestTask;

public class EditCommandTest extends DoerListGuiTest {

    @Test
    public void edit() throws IllegalValueException {
        // edit the first one in the list
        TestTask afterEdition = new TestTask(td.task2);
        afterEdition.setTitle(new Title("Test Task 2 Edit Title"));
        afterEdition.setDescription(new Description("Test Task 2 Edit Description"));
        afterEdition.setStartTime(new TodoTime(new DateTime().withHourOfDay(10).withMinuteOfHour(0)));
        afterEdition.setEndTime(new TodoTime(new DateTime().withHourOfDay(13).withMinuteOfHour(0)));
        afterEdition.setCategories(new UniqueCategoryList(new Category("CS2103")));
        
        // expected output
        List<TestCategory> expectedDisplayTaskPanel = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.TODAY.categoryName, td.task3, afterEdition),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, td.task6),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, td.task7),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, td.task1, td.task4, td.task5, td.task8)
        );
        List<TestCategory> expectedBuildInCategoryList = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.ALL.categoryName, 8),
                new TestCategory(BuildInCategoryList.TODAY.categoryName, 3),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, 2),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, 2),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, 4)
        );
        List<TestCategory> expectedCategoryList = Lists.newArrayList(
                new TestCategory("CS2101", 1),
                new TestCategory("CS2103", 1),
                new TestCategory("MA1101R", 1)
        );
        assertEditSuccess("edit 1 /t Test Task 2 Edit Title /d Test Task 2 Edit Description /s today 10am /e today 1pm /c CS2103", 
                td.task2, afterEdition, expectedDisplayTaskPanel, 
                expectedBuildInCategoryList, expectedCategoryList);
        
       
        // edit task result in duplicate
        commandBox.runCommand(afterEdition.getEditCommand(1));
        assertResultMessage(EditCommand.MESSAGE_DUPLICATE_TASK);
        assertTrue(taskListPanel.isListMatching(expectedDisplayTaskPanel));

        // edit to empty list
        commandBox.runCommand("clear");
        commandBox.runCommand(td.task8.getEditCommand(1));
        assertResultMessage(Messages.MESSAGE_INVALID_TASK_DISPLAYED_INDEX);

        // invalid command
        commandBox.runCommand("edit Do Homework");
        assertResultMessage(String.format(MESSAGE_INVALID_COMMAND_FORMAT, EditCommand.MESSAGE_USAGE));
    }
    
    /**
     * Validating the given task has been successfully edited.
     * Validating the rest of data has been updated accordingly
     * 
     * @param command
     * @param toEdit
     * @param afterEdit
     * @param expectedDisplayTaskPanel
     * @param expectedBuildInCategoryList
     * @param expectedCategoryList
     */
    private void assertEditSuccess(String command, TestTask toEdit, TestTask afterEdit,
            List<TestCategory> expectedDisplayTaskPanel, 
            List<TestCategory> expectedBuildInCategoryList, 
            List<TestCategory> expectedCategoryList) {
        
        commandBox.runCommand(command);
        assertResultMessage(String.format(EditCommand.MESSAGE_EDIT_TASK_SUCCESS, toEdit, afterEdit));
        
        // confirm the list now contains accurate buildInCategory and count
        assertTrue(categorySideBar.isBuildInCategoryListMatching(expectedBuildInCategoryList));
        // confirm the list now contains accurate category and count
        assertTrue(categorySideBar.categoryListMatching(expectedCategoryList));
        
        // confirm the list now contains all tasks
        assertTrue(taskListPanel.isListMatching(expectedDisplayTaskPanel));  
    }

}
```
###### /java/guitests/FindCommandTest.java
``` java
package guitests;

import static org.junit.Assert.assertTrue;

import java.util.List;

import org.junit.Test;

import com.google.common.collect.Lists;

import seedu.doerList.commons.core.Messages;
import seedu.doerList.commons.exceptions.IllegalValueException;
import seedu.doerList.logic.commands.Command;
import seedu.doerList.model.category.BuildInCategoryList;
import seedu.doerList.testutil.TestCategory;

public class FindCommandTest extends DoerListGuiTest {

    @Test
    public void find_nonEmptyList() throws IllegalValueException {
        // find get multiple results
        List<TestCategory> expectedDisplayTaskPanel = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.DUE.categoryName, td.task2),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, td.task6),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, td.task7),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, td.task8)
        );
        List<TestCategory> expectedBuildInCategoryList = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.ALL.categoryName + " (filtered)", 4),
                new TestCategory(BuildInCategoryList.TODAY.categoryName, 2),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, 2),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, 2),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, 4)
        );
        List<TestCategory> expectedCategoryList = Lists.newArrayList(
                new TestCategory("CS2101", 2),
                new TestCategory("CS2103", 1),
                new TestCategory("MA1101R", 1)
        );
        assertFindResult("find Math", expectedDisplayTaskPanel, expectedBuildInCategoryList, expectedCategoryList);
        
        // find and there is no result
        expectedBuildInCategoryList.get(0).setExpectedNumTasks(0);
        assertFindResult("find Love", Lists.newArrayList(), expectedBuildInCategoryList, expectedCategoryList);
        

        //find after deleting one result
        commandBox.runCommand("find Math");
        commandBox.runCommand("delete 1");
        expectedBuildInCategoryList.get(0).setExpectedNumTasks(3);
        List<TestCategory> expectedDisplayTaskPanel2 = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.NEXT.categoryName, td.task6),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, td.task7),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, td.task8)
        );
        List<TestCategory> expectedCategoryList2 = Lists.newArrayList(
                new TestCategory("CS2101", 1),
                new TestCategory("CS2103", 0),
                new TestCategory("MA1101R", 1)
        );
        assertFindResult("find Math", expectedDisplayTaskPanel2, expectedBuildInCategoryList, expectedCategoryList2);
    }

    @Test
    public void find_emptyList() throws IllegalValueException{
        commandBox.runCommand("clear");
        List<TestCategory> expectedDisplayTaskPanel = Lists.newArrayList();
        List<TestCategory> expectedBuildInCategoryList = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.ALL.categoryName + " (filtered)", 0),
                new TestCategory(BuildInCategoryList.TODAY.categoryName, 0),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, 0),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, 0),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, 0)
        );
        List<TestCategory> expectedCategoryList = Lists.newArrayList();
        assertFindResult("find CA", expectedDisplayTaskPanel, expectedBuildInCategoryList, expectedCategoryList); //no results
    }

    @Test
    public void find_invalidCommand_fail() throws IllegalValueException {
        commandBox.runCommand("findgeorge");
        assertResultMessage(Messages.MESSAGE_UNKNOWN_COMMAND);
    }
    
    /**
     * Validating the tasks with `keyword` have been listed
     * Validating the rest of data has been updated accordingly
     * 
     * @param command
     * @param expectedDisplayTaskPanel
     * @param expectedBuildInCategoryList
     * @param expectedCategoryList
     */
    private void assertFindResult(String command, 
            List<TestCategory> expectedDisplayTaskPanel, 
            List<TestCategory> expectedBuildInCategoryList, 
            List<TestCategory> expectedCategoryList) {
        
        commandBox.runCommand(command);
        int numTasks = expectedDisplayTaskPanel.stream().mapToInt((c) -> c.getPreDefinedTasks().size()).sum();
        assertResultMessage(Command.getMessageForTaskListShownSummary(numTasks));
        
        // confirm the list now contains accurate buildInCategory and count
        assertTrue(categorySideBar.isBuildInCategoryListMatching(expectedBuildInCategoryList));
        // confirm the list now contains accurate category and count
        assertTrue(categorySideBar.categoryListMatching(expectedCategoryList));
        
        // confirm the list now contains all tasks
        assertTrue(taskListPanel.isListMatching(expectedDisplayTaskPanel)); 
    }
}
```
###### /java/guitests/guihandles/CategoryCardHandle.java
``` java
package guitests.guihandles;

import guitests.GuiRobot;
import javafx.scene.Node;
import javafx.stage.Stage;
import seedu.doerList.model.category.Category;
import seedu.doerList.testutil.TestCategory;

/**
 * Provides a handle to a category card in the task list panel.
 */
public class CategoryCardHandle extends GuiHandle {
    /** Some fields id in the UI. These IDs can be find in {@code /src/main/resources/view/*.fxml} */
    private static final String CATEGORY_NAME_FIELD_ID = "categoryName";
    private static final String CATEGORY_COUNT_FIELD_ID = "categoryCount";

    private Node node;

    public CategoryCardHandle(GuiRobot guiRobot, Stage primaryStage, Node node){
        super(guiRobot, primaryStage, null);
        this.node = node;
    }

    protected String getTextFromLabel(String fieldId) {
        return getTextFromLabel(fieldId, node);
    }
    
    protected String getContentFromText(String fieldId) { 
        return getTextFromText(fieldId, node);
    }

    public String getCategoryName() {
        return getTextFromLabel("#" + CATEGORY_NAME_FIELD_ID);
    }

    public String getCategoryCount() {
        return getTextFromLabel("#" + CATEGORY_COUNT_FIELD_ID);
    }
    
    public boolean isSameTestCategory(TestCategory category){
        return getCategoryName().equals(category.categoryName)
                && getCategoryCount().equals(String.valueOf(category.expectedNumTasks));
    }
    
    public boolean isSameCategoryName(Category category){
        return getCategoryName().equals(category.categoryName);
    }

    @Override
    public boolean equals(Object obj) {
        if(obj instanceof CategoryCardHandle) {
            CategoryCardHandle handle = (CategoryCardHandle) obj;
            return getCategoryName().equals(handle.getCategoryName())
                    && getCategoryCount().equals(handle.getCategoryCount());
        }
        return super.equals(obj);
    }

    @Override
    public String toString() {
        return "[" + getCategoryName() + "]" + "(" + getCategoryCount() + ")";             
    }
}
```
###### /java/guitests/guihandles/CategorySideBarHandle.java
``` java
package guitests.guihandles;

import static org.junit.Assert.assertTrue;

import java.util.List;
import java.util.Optional;
import java.util.Set;

import guitests.GuiRobot;
import javafx.scene.Node;
import javafx.scene.control.ListView;
import javafx.stage.Stage;
import seedu.doerList.model.category.Category;
import seedu.doerList.testutil.TestCategory;
import seedu.doerList.testutil.TestUtil;

/**
 * Provides a handle to all two category in the system.
 */
public class CategorySideBarHandle extends GuiHandle {
    /** Some fields id in the UI. These IDs can be find in {@code /src/main/resources/view/*.fxml} */
    private static final String BUILD_IN_CATEGORY_PLACEHOLDER_ID = "buildInCategoryListPanelPlaceholder";
    private static final String CATEGORY_PLACEHOLDER_ID = "categoryListPanelPlaceholder";
    private static final String CATEGORY_LIST_VIEW = "categoryListView";
    private static final String CATEGORY_CARD_PANE = "categoryCardPane";


    public CategorySideBarHandle(GuiRobot guiRobot, Stage primaryStage){
        super(guiRobot, primaryStage, null);
    }

    public ListView<Category> getBuidInCategoryListView() {
        return (ListView<Category>) guiRobot.from(getNode("#" + BUILD_IN_CATEGORY_PLACEHOLDER_ID))
                .lookup("#" + CATEGORY_LIST_VIEW).query();
    }
    
    public ListView<Category> getCategoryListView() {
        return (ListView<Category>) guiRobot.from(getNode("#" + CATEGORY_PLACEHOLDER_ID))
                .lookup("#" + CATEGORY_LIST_VIEW).query();
    }

    /**
     * Get current selection in the category, including BuildInCategory Listview and Category Listview.
     * 
     * @param categoryName
     * @return CategoryCardHandle represent the selected category card
     */
    public CategoryCardHandle getSelection(String categoryName) {
        List<Category> buildInCategoryList = getBuidInCategoryListView().getSelectionModel().getSelectedItems();
        List<Category> categoryList = getCategoryListView().getSelectionModel().getSelectedItems();
        if (buildInCategoryList.size() == 1 && categoryList.size() == 0) {
            return getCategoryCardHandleByName(getBuidInCategoryListView(), buildInCategoryList.get(0));
        } else if (buildInCategoryList.size() == 0 && categoryList.size() == 1){
            return getCategoryCardHandleByName(getCategoryListView(), categoryList.get(0));
        } else if (buildInCategoryList.size() != 0 && categoryList.size() != 0) {
            throw new IllegalArgumentException("Two selections exist in the categorySideBar");
        } else {
            return null;
        }
    }

    public boolean isBuildInCategoryListMatching(List<TestCategory> expectedBuildInCategoryList) {
        return this.isListMatching(getBuidInCategoryListView(), 0, expectedBuildInCategoryList);
    }

    public boolean categoryListMatching(List<TestCategory> expectedCateogires) {
        return this.isListMatching(getCategoryListView(), 0, expectedCateogires);
    }
    
    /**
     * Returns true if the list is showing the category details correctly and in correct order.
     * 
     * @param startPosition The starting position of the sub list.
     * @param persons A list of person in the correct order.
     * @param boolean
     */
    public boolean isListMatching(ListView<Category> listView, int startPosition, List<TestCategory> categories) throws IllegalArgumentException {
        if (categories.size() + startPosition != listView.getItems().size()) {
            throw new IllegalArgumentException("List size mismatched\n" +
                    "Expected " + (listView.getItems().size() - 1) + " persons");
        }
        // verify binding data contains in order
        assertTrue(this.containsInOrder(listView, startPosition, categories));
        // verify displaying data
        for (int i = 0; i < categories.size(); i++) {
            final int scrollTo = i;
            guiRobot.interact(() -> {
                listView.scrollTo(scrollTo); // if the scrollbar is hidden, this will be error in log, but it doesn't matter
            });
            guiRobot.sleep(200);
            if (!TestUtil.compareCardAndTestCategory(getCategoryCardHandleByName(listView, categories.get(i)), categories.get(i))) {
                return false;
            }
        }
        return true;
    }
    
    public CategoryCardHandle getCategoryCardHandleByName(ListView<Category> listView, Category category) {
        Set<Node> nodes = getAllCardNodesFrom(listView);
        Optional<Node> personCardNode = nodes.stream()
                .filter(n -> new CategoryCardHandle(guiRobot, primaryStage, n).isSameCategoryName(category))
                .findFirst();
        if (personCardNode.isPresent()) {
            return new CategoryCardHandle(guiRobot, primaryStage, personCardNode.get());
        } else {
            return null;
        }
    }
    
    protected Set<Node> getAllCardNodesFrom(ListView<Category> listview) {
        return guiRobot.from(listview).lookup("#" + CATEGORY_CARD_PANE).queryAll();
    }
    
    /**
     * Check whether the provided categories is in the same order 
     * as the one in the listView from the startPosition.
     * 
     * @param listView
     * @param startPosition
     * @param categories
     * @return boolean
     */
    public boolean containsInOrder(ListView<Category> listView, int startPosition, List<TestCategory> categories) {
        List<Category> categoriesInList = listView.getItems();

        // Return false if the list in panel is too short to contain the given list
        if (startPosition + categories.size() > categoriesInList.size()){
            return false;
        }

        // Return false if any of the category doesn't match
        for (int i = 0; i < categories.size(); i++) {
            if (!categoriesInList.get(startPosition + i).categoryName.equals(categories.get(i).categoryName)) {
                return false;
            }
        }

        return true;
    }
}
```
###### /java/guitests/guihandles/SectionPanelHandle.java
``` java
package guitests.guihandles;
import java.util.List;
import java.util.Optional;
import java.util.Set;
import java.util.stream.Stream;

import guitests.GuiRobot;
import javafx.scene.Node;
import javafx.stage.Stage;
import seedu.doerList.model.category.Category;
import seedu.doerList.model.task.ReadOnlyTask;
import seedu.doerList.testutil.TestTask;
import seedu.doerList.ui.TaskListPanel;

/**
 * Provides a handle to section in the tasklist.
 */
public class SectionPanelHandle extends GuiHandle {
    /** Some fields id in the UI. These IDs can be find in {@code /src/main/resources/view/*.fxml} */
    public static final String SECTION_HEADER_ID = "titleField";
    public static final String CARD_PANE_ID = "taskPanel";  
    public static final String TASK_LIST_SCROLLPANE = "tasksScrollPane";
    
    private Node node;

    public SectionPanelHandle(GuiRobot guiRobot, Stage primaryStage, Node node){
        super(guiRobot, primaryStage, null);
        this.node = node;
    }

    protected String getTextFromLabel(String fieldId) {
        return getTextFromLabel(fieldId, node);
    }

    public String getHeaderTitle() {
        return getTextFromLabel("#" + SECTION_HEADER_ID);
    }   

    /**
     * Determine whether this handle represents the same category as the parameter.
     * 
     * @param c the expected category
     * @return boolean
     */
    public boolean isSameCategory(Category c){
        return c.categoryName.equals(this.getHeaderTitle());
    }
    
    protected int getNumTaskNode() {
        return getAllCardNodes().size();
    }
    
    protected Set<Node> getAllCardNodes() {
        return guiRobot.from(node).lookup("#" + CARD_PANE_ID).queryAll();
    }
    
    protected Optional<Node> getTaskNodeByTitle(String title) {
        return getAllCardNodes().stream().filter((n) -> {
            TaskCardHandle tempHandle =  new TaskCardHandle(guiRobot, primaryStage, n);
            return tempHandle.getFullTitle().equals(title);
        }).findAny();
    }

    /**
     * Get the taskCardHandle which represents the parameter {@code task}.
     * If the there is no such task in the current UI, the method will return {@code null}.
     * 
     * @param task
     * @return TaskCardHandle
     */
    public TaskCardHandle getTaskCardHandle(ReadOnlyTask task) {
        Set<Node> nodes = getAllCardNodes();
        Stream<Node> taskCardStream = nodes.stream()
                .filter(n -> new TaskCardHandle(guiRobot, primaryStage, n).isSameTask(task));
        Optional<Node> taskCardNode = taskCardStream.findFirst();
        if (taskCardNode.isPresent()) {
            return new TaskCardHandle(guiRobot, primaryStage, taskCardNode.get());
        } else {
            return null;
        }
    }
    

    /**
     * Return true if the tasks displayed in UI is in the same order as the parameter {@code tasks}.
     * {@code indexStart} indicates that the tasks should start from the index.
     * 
     * @param tasks
     * @param indexStart
     * @return boolean
     * @throws IllegalArgumentException
     */
    public boolean isListMatching(List<TestTask> tasks, int indexStart) throws IllegalArgumentException {
        if (tasks.size() != getNumTaskNode()) {
            throw new IllegalArgumentException("List size mismatched\n" +
                    "Expected " + getNumTaskNode() + " tasks");
        }
        for (int i = 0; i < tasks.size(); i++) {
            // navigate to the task
            Optional<Node> nodeOp = getTaskNodeByTitle(tasks.get(i).getTitle().fullTitle);
            if (!nodeOp.isPresent()) {
                return false;
            }
            final int scrollTo = i + indexStart;
            guiRobot.interact(() -> getTaskListPanelController().scrollTo(scrollTo));
            guiRobot.sleep(200);
            // get the tasks panel inside the section if any
            TaskCardHandle tch = this.getTaskCardHandle(tasks.get(i));
            if (tch == null) {
                // if cannot find, the information is not correct
                return false;
            } else {
                // validate the index to make sure it is in correct order
                if (!tch.getDisplayIndex().equals(String.valueOf(i + indexStart))) {
                    return false;
                }
            }
        }
        return true;
    }

    @Override
    public boolean equals(Object obj) {
        if(obj instanceof SectionPanelHandle) {
            SectionPanelHandle handle = (SectionPanelHandle) obj;
            return getHeaderTitle().equals(handle.getHeaderTitle());
        }
        return super.equals(obj);
    }

    @Override
    public String toString() {
        return "__" + getHeaderTitle() + "__";
                
    }
    
    /**
     * Get the controller of the TaskListPanel in the current UI.
     * This is implemented by using {@code getUserData()} of a {@code node} in the UI.
     * 
     * @return TaskListPanel
     */
    public TaskListPanel getTaskListPanelController() {
        TaskListPanel taskPaneController = (TaskListPanel)guiRobot.lookup("#" + TASK_LIST_SCROLLPANE).query().getUserData();
        return taskPaneController;
    }
}
```
###### /java/guitests/guihandles/TaskCardHandle.java
``` java
package guitests.guihandles;

import guitests.GuiRobot;
import javafx.scene.Node;
import javafx.stage.Stage;
import seedu.doerList.model.task.ReadOnlyTask;
import seedu.doerList.ui.TaskCard;

/**
 * Provides a handle to a task card in the task list panel.
 */
public class TaskCardHandle extends GuiHandle {
    /** Some fields id in the UI. These IDs can be find in {@code /src/main/resources/view/*.fxml} */
    private static final String TITLE_FIELD_ID = "title";
    private static final String INDEX_FIELD_ID = "index";
    
    private Node node;

    public TaskCardHandle(GuiRobot guiRobot, Stage primaryStage, Node node){
        super(guiRobot, primaryStage, null);
        this.node = node;
    }

    protected String getTextFromLabel(String fieldId) {
        return getTextFromLabel(fieldId, node);
    }
    
    protected String getContentFromText(String fieldId) { 
        return getTextFromText(fieldId, node);
    }

    public String getFullTitle() {
        return getTextFromLabel("#" + TITLE_FIELD_ID);
    }

    public String getDisplayIndex() {
        return getTextFromLabel("#" + INDEX_FIELD_ID);
    }
    
    public String getDescription() {
        return getContentFromText("#" + TaskCard.DESCRIPTION_FIELD_ID);
    }

    public String getTime() {
        return getContentFromText("#" + TaskCard.TIME_FIELD_ID);
    }
    
    /**
     * Check whether the TaskCard represents the same task as it in the parameter {@code task}.
     * 
     * @param task
     * @return boolean
     */
    public boolean isSameTask(ReadOnlyTask task){
        return task.getTitle().fullTitle.equals(this.getFullTitle())
                && (!task.hasDescription() || task.getDescription().value.equals(this.getDescription()))
                && (task.isFloatingTask() || task.getTime().equals(this.getTime()));
    }

    @Override
    public boolean equals(Object obj) {
        if(obj instanceof TaskCardHandle) {
            TaskCardHandle handle = (TaskCardHandle) obj;
            return getFullTitle().equals(handle.getFullTitle())
                    && getDescription().equals(handle.getDescription())
                    && getTime().equals(handle.getTime());
        }
        return super.equals(obj);
    }

    @Override
    public String toString() {
        return getFullTitle() + " " 
                + getDescription() + " " 
                + getTime() + " ";
                
    }
}
```
###### /java/guitests/guihandles/TaskListPanelHandle.java
``` java
package guitests.guihandles;

import java.util.List;
import java.util.Optional;
import java.util.Set;
import java.util.stream.Stream;

import guitests.GuiRobot;
import javafx.geometry.Point2D;
import javafx.scene.Node;
import javafx.scene.input.KeyCode;
import javafx.stage.Stage;
import seedu.doerList.TestApp;
import seedu.doerList.testutil.TestCategory;
import seedu.doerList.testutil.TestUtil;

/**
 * Provides a handle for the panel containing the person list.
 */
public class TaskListPanelHandle extends GuiHandle {
    /** Some fields id in the UI. These IDs can be find in {@code /src/main/resources/view/*.fxml} */
    public static final String SECTION_PANE_ID = "sectionPanel";
    public static final String TASK_PANE_ID = "tasksScrollPane";

    public TaskListPanelHandle(GuiRobot guiRobot, Stage primaryStage) {
        super(guiRobot, primaryStage, TestApp.APP_TITLE);
    }   
    
    /**
     * Clicks on the ListView.
     */
    public void clickOnMidOfTaskPanel(int height) {
        Point2D point= TestUtil.getScreenTopMidPoint(guiRobot.lookup("#" + TASK_PANE_ID).query(), height);
        guiRobot.clickOn(point.getX(), point.getY());
        guiRobot.sleep(200);
    }
    
    /**
     * Press the {@code KeyCode.UP} key in the keyboard.
     */
    public void useUpArrowKey() {
        guiRobot.type(KeyCode.UP).sleep(500);
    }
    
    /**
     * Press the {@code KeyCode.DOWN} key in the keyboard.
     */
    public void useDownArrowKey() {
        guiRobot.type(KeyCode.DOWN).sleep(500);
    }
    
    /**
     * Get a sectionPanelHandle that represents the given {@code targetCategory}.
     * If there is not such {@code targetCategory} in current GUI, {@code null} will be returned.
     * 
     * @param targetCategory
     * @return SectionPanelHandle
     */
    public SectionPanelHandle getSectionPanelHandle(TestCategory targetCategory) {
        Set<Node> nodes = getAllSectionPanel();
        Stream<Node> sectionPanelStream = nodes.stream()
                .filter(n -> new SectionPanelHandle(guiRobot, primaryStage, n).isSameCategory(targetCategory));
        Optional<Node> sectionPanelNode = sectionPanelStream.findFirst();
        if (sectionPanelNode.isPresent()) {
            return new SectionPanelHandle(guiRobot, primaryStage, sectionPanelNode.get());
        } else {
            return null;
        }
    }
    
    protected Set<Node> getAllSectionPanel() {
        return guiRobot.lookup("#" + SECTION_PANE_ID).queryAll();
    }
       
    public int getNumberOfSectionPanel() {
        return getAllSectionPanel().size();
    }

    /**
     * Check whether the tasks, which are categorized by BuildInCategory, 
     * display in the same order as {@code expectedCategorized}.
     * 
     * @param expectedCategorized
     * @return boolean
     */
    public boolean isListMatching(List<TestCategory> expectedCategorized) {
        int indexStart = 1;
        for(TestCategory c : expectedCategorized) {
            SectionPanelHandle panel = getSectionPanelHandle(c);
            if (panel == null) {
                return false;
            } else {
                panel.isListMatching(c.getPreDefinedTasks(), indexStart);
            }
            indexStart += c.getPreDefinedTasks().size();
        }
        return true;
    }

}
```
###### /java/guitests/ListCommandTest.java
``` java
package guitests;

import static org.junit.Assert.assertTrue;

import java.util.List;

import org.junit.Test;

import com.google.common.collect.Lists;

import seedu.doerList.commons.exceptions.IllegalValueException;
import seedu.doerList.logic.commands.ListCommand;
import seedu.doerList.model.category.BuildInCategoryList;
import seedu.doerList.model.category.Category;
import seedu.doerList.testutil.TestCategory;

public class ListCommandTest extends DoerListGuiTest {

    @Test
    public void list() throws IllegalValueException {
        // generate exptected result
        List<TestCategory> expectedBuildInCategoryList = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.ALL.categoryName, 8),
                new TestCategory(BuildInCategoryList.TODAY.categoryName, 2),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, 2),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, 2),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, 4)
        );
        List<TestCategory> expectedCategoryList = Lists.newArrayList(
                new TestCategory("CS2101", 2),
                new TestCategory("CS2103", 1),
                new TestCategory("MA1101R", 1)
        );
        
        // list ALL
        List<TestCategory> expected_ALL = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.DUE.categoryName, td.task2),
                new TestCategory(BuildInCategoryList.TODAY.categoryName, td.task3),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, td.task6),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, td.task7),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, td.task1, td.task4, td.task5, td.task8)
        );
        assertListSuccess(BuildInCategoryList.ALL, expected_ALL, expectedBuildInCategoryList, expectedCategoryList);
        
        // list Today
        List<TestCategory> expected_TODAY = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.TODAY.categoryName, td.task3),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, td.task4)
        );
        assertListSuccess(BuildInCategoryList.TODAY, expected_TODAY, expectedBuildInCategoryList, expectedCategoryList);
        
        // list NEXT
        List<TestCategory> expected_NEXT = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.NEXT.categoryName, td.task6),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, td.task5)
        );
        assertListSuccess(BuildInCategoryList.NEXT, expected_NEXT, expectedBuildInCategoryList, expectedCategoryList);
        
        // list INBOX
        List<TestCategory> expected_INBOX = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.INBOX.categoryName, td.task7),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, td.task8)
        );
        assertListSuccess(BuildInCategoryList.INBOX, expected_INBOX, expectedBuildInCategoryList, expectedCategoryList);
        
        // list COMPLETE
        List<TestCategory> expected_COMPLETE = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, td.task1, td.task4, td.task5, td.task8)
        );
        assertListSuccess(BuildInCategoryList.COMPLETE, expected_COMPLETE, expectedBuildInCategoryList, expectedCategoryList);
        
        // list CS2101
        List<TestCategory> expected_CS2101 = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.DUE.categoryName, td.task2),
                new TestCategory(BuildInCategoryList.TODAY.categoryName, td.task3)
        );
        assertListSuccess(new Category("CS2101"), expected_CS2101, expectedBuildInCategoryList, expectedCategoryList);
        
        // list CS2103
        List<TestCategory> expected_CS2103 = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.DUE.categoryName, td.task2)
        );
        assertListSuccess(new Category("CS2103"), expected_CS2103, expectedBuildInCategoryList, expectedCategoryList);
        
        // list MA1101R
        List<TestCategory> expected_MA1101R = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, td.task4)
        );
        assertListSuccess(new Category("MA1101R"), expected_MA1101R, expectedBuildInCategoryList, expectedCategoryList);
           
    }
    
    @Test
    public void list_afterRunAddCommand() throws IllegalValueException {
        // expected result
        List<TestCategory> expectedCategoryList = Lists.newArrayList(
                new TestCategory("CS2101", 2),
                new TestCategory("CS2103", 1),
                new TestCategory("MA1101R", 1)
        );
        List<TestCategory> expectedBuildInCategoryList = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.ALL.categoryName, 8),
                new TestCategory(BuildInCategoryList.TODAY.categoryName, 2),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, 2),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, 2),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, 4)
        );
        
        // list Today
        List<TestCategory> expected_TODAY = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.TODAY.categoryName, td.task3),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, td.task4)
        );
        assertListSuccess(BuildInCategoryList.TODAY, expected_TODAY, expectedBuildInCategoryList, expectedCategoryList);
        
        // add task that should belong to `Today` category
        commandBox.runCommand(td.task10.getAddCommand());

        // expected result
        List<TestCategory> expectedBuildInCategoryList_after = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.ALL.categoryName, 9),
                new TestCategory(BuildInCategoryList.TODAY.categoryName, 3),
                new TestCategory(BuildInCategoryList.NEXT.categoryName, 2),
                new TestCategory(BuildInCategoryList.INBOX.categoryName, 2),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, 4)
        );
        List<TestCategory> expectedCategoryList_after = Lists.newArrayList(
                new TestCategory("CS2101", 2),
                new TestCategory("CS2103", 2),
                new TestCategory("MA1101R", 1)
        );
        // list Today again
        List<TestCategory> expected_TODAY_after = Lists.newArrayList(
                new TestCategory(BuildInCategoryList.TODAY.categoryName, td.task3, td.task10),
                new TestCategory(BuildInCategoryList.COMPLETE.categoryName, td.task4)
        );
        assertListSuccess(BuildInCategoryList.TODAY, expected_TODAY_after, expectedBuildInCategoryList_after, expectedCategoryList_after);
    }
    
    /**
     * Validating the tasks under specific category have been listed
     * Validating the rest of data has been updated accordingly
     * 
     * @param categoryToShow
     * @param expectedDisplayTaskPanel
     * @param expectedBuildInCategoryList
     * @param expectedCategoryList
     */
    private void assertListSuccess(Category categoryToShow, 
            List<TestCategory> expectedDisplayTaskPanel, 
            List<TestCategory> expectedBuildInCategoryList, 
            List<TestCategory> expectedCategoryList) {
        
        commandBox.runCommand("list " + categoryToShow.categoryName);
        assertResultMessage(String.format(ListCommand.MESSAGE_SUCCESS, categoryToShow.categoryName));
        
        // confirm the list now contains accurate buildInCategory and count
        assertTrue(categorySideBar.isBuildInCategoryListMatching(expectedBuildInCategoryList));
        // confirm the list now contains accurate category and count
        assertTrue(categorySideBar.categoryListMatching(expectedCategoryList));
        
        // confirm the list now contains all tasks
        assertTrue(taskListPanel.isListMatching(expectedDisplayTaskPanel));  
    }

}
```
###### /java/guitests/TaskPanelInteractionTest.java
``` java
package guitests;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNotNull;

import org.junit.Test;

import seedu.doerList.ui.TaskCard;

public class TaskPanelInteractionTest extends DoerListGuiTest {

    @Test
    public void press_arrowKey() {
        // press down to `scroll down`
        taskListPanel.clickOnMidOfTaskPanel(10);
        for(int i = 1; i<=8; i++) {
            taskListPanel.useDownArrowKey();
            assertTaskSelected(i);
        }
       
        // the last task is highlighted
        // press down again and there is no effect
        taskListPanel.useDownArrowKey();
        assertTaskSelected(8);
        
        // press up to `scroll up`
        for(int i = 7; i >= 1; i--) {
            taskListPanel.useUpArrowKey();
            assertTaskSelected(i);
        }
        
        // the first task is highlighted
        // press up again and there is no effect
        taskListPanel.useUpArrowKey();
        assertTaskSelected(1);
    }
    
    
    @Test
    public void click_TaskCardUI() {
        // click the first one
        taskListPanel.clickOnMidOfTaskPanel(55);
        assertTaskSelected(1);
    }
    
    /**
     * Validating the displayIndex in selected task in UI is the same as parameter.
     * 
     * @param index
     */
    private void assertTaskSelected(int index) {
        assertNotNull(TaskCard.getSeletedTaskCard());
        assertEquals(TaskCard.getSeletedTaskCard().getDisplayIndex(), index);
    }

}
```
###### /java/seedu/doerList/logic/LogicManagerTest.java
``` java
    @Test
    public void execute_list_showsAllTasks() throws Exception {
        // prepare expectations
        TestDataHelper helper = new TestDataHelper();
        DoerList expectedDL = helper.generateDoerList(2);
        List<? extends ReadOnlyTask> expectedList = expectedDL.getTaskList();

        // prepare doerList state
        helper.addToModel(model, 2);

        assertCommandBehavior("list",
                String.format(ListCommand.MESSAGE_SUCCESS, "All"),
                expectedDL,
                expectedList);
    }
    
```
###### /java/seedu/doerList/logic/LogicManagerTest.java
``` java
    @Test
    public void execute_list_buildInCategory() throws Exception {
        // prepare expectations
        TestDataHelper helper = new TestDataHelper();
        Task Today1 = helper.generateTaskWithTime(1, new DateTime().withHourOfDay(8).toString(), 
                        new DateTime().withHourOfDay(12).toString()); // today
        Task Next1 = helper.generateTaskWithTime(2, new DateTime().withHourOfDay(8).plusDays(1).toString(), 
                        new DateTime().withHourOfDay(12).plusDays(1).toString()); // tomorrow
        Task Next2 = helper.generateTaskWithTime(3, new DateTime().withHourOfDay(8).plusDays(5).toString(), 
                        new DateTime().withHourOfDay(12).plusDays(5).toString()); // next 5 days
        Task Next3 = helper.generateTaskWithTime(3, new DateTime().withHourOfDay(8).plusDays(7).toString(), 
                        new DateTime().withHourOfDay(12).plusDays(7).toString()); // next 7 days
        Task Inbox1 = helper.generateTaskWithTime(4, null, null); // inbox
        Task Complete1 = helper.generateTaskWithCategory(5); // complete
        Complete1.addBuildInCategory(BuildInCategoryList.COMPLETE);

        // prepare doerList state
        helper.addToModel(model, Arrays.asList(Today1, Next1, Next2, Next3, Inbox1, Complete1));

        // Test ALL
        assertBuildInCategoryListed(Arrays.asList(Today1, Next1, Next2, Next3, Inbox1, Complete1), BuildInCategoryList.ALL);
        // Test Next 7 Days
        assertBuildInCategoryListed(Arrays.asList(Next1, Next2, Next3), BuildInCategoryList.NEXT);
        // Test Inbox
        assertBuildInCategoryListed(Arrays.asList(Inbox1), BuildInCategoryList.INBOX );
        // Test complete
        assertBuildInCategoryListed(Arrays.asList(Complete1), BuildInCategoryList.COMPLETE);
    }
    
```
###### /java/seedu/doerList/logic/LogicManagerTest.java
``` java
    @Test
    public void execute_list_category() throws Exception {
        // prepare expectations
        TestDataHelper helper = new TestDataHelper();
        Task task1 = helper.generateTaskWithCategory(1, new Category("CA1"), new Category("CA2"));
        Task task2 = helper.generateTaskWithCategory(2, new Category("CA1"));
        Task task3 = helper.generateTaskWithCategory(3, new Category("CA2"));
        Task task4 = helper.generateTaskWithCategory(4);
        
        // prepare doerList state
        helper.addToModel(model, Arrays.asList(task1, task2, task3, task4));

        // list unknown category
        CommandResult result = logic.execute("list CA3");
        assertEquals(ListCommand.MESSAGE_CATEGORY_NOT_EXISTS, result.feedbackToUser);
        
        // list All
        //Execute the command
        result = logic.execute("list");
        assertEquals(Arrays.asList(task1, task2, task3, task4), logic.getFilteredTaskList()); 
        // List CA1
        assertCategoryListed(Arrays.asList(task1, task2), "CA1");
        // list CA2
        assertCategoryListed(Arrays.asList(task1, task3), "CA2");
    }
    
```
###### /java/seedu/doerList/logic/LogicManagerTest.java
``` java
    /**
     * Execute the list command and validate the correct tasks {@code expected} under {@code category} are listed
     * This is to validate buildInCategory
     * 
     * @param expected
     * @param category
     * @throws Exception
     */
    private void assertBuildInCategoryListed(List<? extends ReadOnlyTask> expected, Category category) throws Exception {
        //Execute the command
        CommandResult result = logic.execute("list " + category.categoryName);
        //Confirm the UI display elements, should contain the right data
        assertEquals(String.format(ListCommand.MESSAGE_SUCCESS, category.categoryName), result.feedbackToUser);
        assertEquals(expected, category.getTasks());
    }
    
```
###### /java/seedu/doerList/logic/LogicManagerTest.java
``` java
    /**
     * Execute the command and validate the correct tasks {@code expected} under {@code categoryName} are listed
     * This is to validate normal category
     * 
     * @param expected
     * @param categoryName
     */
    private void assertCategoryListed(List<? extends ReadOnlyTask> expected, String categoryName) {
        //Execute the command
        CommandResult result = logic.execute("list " + categoryName);
        //Confirm the UI display elements, should contain the right data
        assertEquals(String.format(ListCommand.MESSAGE_SUCCESS, categoryName), result.feedbackToUser);
        assertEquals(expected, logic.getFilteredTaskList());
    }

```
###### /java/seedu/doerList/logic/LogicManagerTest.java
``` java
        /**
         * Generate a task with/without attribute
         *
         * @param hasDescription indicate whether to has the attribute
         * @param hasTimeInterval indicate whether to has the attribute
         * @param hasCategory indicate whether to has the attribute
         * @return Task generated task
         * @throws Exception
         */
        Task taskWithAttribute(boolean hasDescription, boolean hasStartTime, boolean hasEndTime, boolean hasCategory) throws Exception {
            Title title = new Title("My Task");
            Description description = null;
            TodoTime startTime = null;
            TodoTime endTime = null;
            UniqueCategoryList categories = new UniqueCategoryList();
            if (hasDescription) {
                description = new Description("Do my homework");
            }
            if (hasStartTime) {
                startTime = new TodoTime("2016-10-03 14:00");
            }
            if (hasEndTime) {
                endTime = new TodoTime("2016-10-04 15:00");
            }
            if (hasCategory) {
                Category category1 = new Category("CS2101");
                Category category2 = new Category("CS2103T");
                categories = new UniqueCategoryList(category1, category2);
            }

            return new Task(title, description, startTime, endTime, categories);
        }

```
###### /java/seedu/doerList/logic/LogicManagerTest.java
``` java
        /**
         * Generates a valid task using the given seed.
         * Running this function with the same parameter values guarantees the returned task will have the same state.
         * Each unique seed will generate a unique Task object.
         *
         * @param seed used to generate the task data field values
         */
        Task generateTask(int seed) throws Exception {
            DateTime sampleDate = DateTime.parse("2016-10-03 10:15", DateTimeFormat.forPattern(TodoTime.TIME_STANDARD_FORMAT));
            return new Task(
                    new Title("Task " + seed),
                    new Description("" + Math.abs(seed)),
                    new TodoTime(sampleDate),
                    new TodoTime(sampleDate.plusDays(seed)),
                    new UniqueCategoryList(new Category("CS" + Math.abs(seed)), new Category("CS" + Math.abs(seed + 1)))
            );
        }
        
```
###### /java/seedu/doerList/logic/LogicManagerTest.java
``` java
        /**
         * Generate Task with given seed, startTime and endTime
         * 
         * @param seed
         * @param startTime
         * @param endTime
         * @return
         */
        Task generateTaskWithTime(int seed, String startTime, String endTime) {
            try {
                return new Task(
                        new Title("Task " + seed),
                        new Description("" + Math.abs(seed)),
                        startTime != null ? new TodoTime(startTime) : null,
                        endTime != null ? new TodoTime(endTime) : null,
                        new UniqueCategoryList(new Category("CS" + Math.abs(seed)), new Category("CS" + Math.abs(seed + 1)))
                );
            } catch (Exception e) {
                // impossible
            }
            return null;
        }
        
```
###### /java/seedu/doerList/logic/LogicManagerTest.java
``` java
        /**
         * Generate task based on given seed and category
         * 
         * @param seed
         * @param Category... c
         * @return task with given seed and category
         */
        Task generateTaskWithCategory(int seed, Category... c) {
            try {
                DateTime sampleDate = DateTime.parse("2016-10-03 10:15", DateTimeFormat.forPattern(TodoTime.TIME_STANDARD_FORMAT));
                return new Task(
                        new Title("Task " + seed),
                        new Description("" + Math.abs(seed)),
                        new TodoTime(sampleDate),
                        new TodoTime(sampleDate.plusDays(seed)),
                        new UniqueCategoryList(Arrays.asList(c))
                );
            } catch (Exception e) {
                // impossible
            }
            return null;
        }
        
```
###### /java/seedu/doerList/logic/LogicManagerTest.java
``` java
        /**
         * Generate task with title and description
         * 
         * @param title
         * @param description
         * @return generated Task
         * @throws Exception
         */
        Task generateTaskWithTitleAndDescription(String title, String description) throws Exception {
            Category category1 = new Category("CS2101");
            Category category2 = new Category("CS2103T");
            UniqueCategoryList categories = new UniqueCategoryList(category1, category2);
            return new Task(new Title(title),
                    new Description(description),
                    new TodoTime("2016-10-03 14:00"),
                    new TodoTime("2016-10-04 15:00"),
                    categories);
        }

```
###### /java/seedu/doerList/logic/LogicManagerTest.java
``` java
        /** Generates the correct add command based on the task given */
        String generateAddCommand(Task r) {
            StringBuffer cmd = new StringBuffer();

            cmd.append("add ");
            cmd.append("/t ").append(r.getTitle()).append(" ");

            if (r.hasDescription()) {
                cmd.append("/d ").append(r.getDescription()).append(" ");
            }

            if (!r.isFloatingTask()) {
                if (r.hasStartTime()) {
                    cmd.append("/s ");
                    cmd.append(r.getStartTime() + " ");
                }
                if (r.hasEndTime()) {
                    cmd.append("/e ");
                    cmd.append(r.getEndTime() + " ");
                }
            }

            UniqueCategoryList categories = r.getCategories();
            if (!categories.getInternalList().isEmpty()) {
                for(Category c: categories){
                    cmd.append("/c " + c.categoryName + " ");
                }
            }

            return cmd.toString();
        }

```
###### /java/seedu/doerList/logic/TimeParserTest.java
``` java
package seedu.doerList.logic;

import static org.junit.Assert.assertEquals;

import org.joda.time.DateTime;
import org.joda.time.format.DateTimeFormat;
import org.joda.time.format.DateTimeFormatter;
import org.junit.Before;
import org.junit.Test;

import seedu.doerList.commons.exceptions.IllegalValueException;
import seedu.doerList.logic.parser.TimeParser;
import seedu.doerList.model.task.TodoTime;

/** Test cases to validate the natural language time parser*/
public class TimeParserTest {
    private TimeParser parser;
    private DateTimeFormatter formatter;
    
    @Before
    public void setup() {
        parser = new TimeParser();
        formatter = DateTimeFormat.forPattern(TodoTime.TIME_STANDARD_FORMAT);
    }
    
    public void parse_withExplicitDateTime_successful() {
        DateTime now = new DateTime();
        assertEquals(now.toString(formatter), now.toString(formatter));
    }
    
    @Test
    public void parse_withImplicitTime_successful() throws IllegalValueException {
        assertEquals(parser.parse("next 20 minutes"), new DateTime().plusMinutes(20).toString(formatter));
        assertEquals(parser.parse("next 2 hours"), new DateTime().plusHours(2).toString(formatter));
    }
    
    @Test
    public void parse_withImplicitDate_successful() throws IllegalValueException {
        assertEquals(parser.parse("today"), new DateTime().toString(formatter));
        assertEquals(parser.parse("tomorrow"), new DateTime().plusDays(1).toString(formatter));
        assertEquals(parser.parse("next 2 days"), new DateTime().plusDays(2).toString(formatter));
        assertEquals(parser.parse("next 2 months"), new DateTime().plusMonths(2).toString(formatter));
        assertEquals(parser.parse("next week"), new DateTime().plusDays(7).toString(formatter));
        assertEquals(parser.parse("next months"), new DateTime().plusMonths(1).toString(formatter));
    }
    
    @Test
    public void parse_withTime_successful() throws IllegalValueException {
        assertEquals(parser.parse("today 5pm"), 
                new DateTime().withHourOfDay(17).withMinuteOfHour(0).toString(formatter));
        assertEquals(parser.parse("today 17:20"),
                new DateTime().withHourOfDay(17).withMinuteOfHour(20).toString(formatter));
        assertEquals(parser.parse("today 5:20pm"),
                new DateTime().withHourOfDay(17).withMinuteOfHour(20).toString(formatter));
    }
    
}
```
###### /java/seedu/doerList/testutil/TaskBuilder.java
``` java
package seedu.doerList.testutil;

import org.joda.time.DateTime;

import seedu.doerList.commons.exceptions.IllegalValueException;
import seedu.doerList.model.category.BuildInCategory;
import seedu.doerList.model.category.Category;
import seedu.doerList.model.category.UniqueCategoryList.DuplicateCategoryException;
import seedu.doerList.model.task.Description;
import seedu.doerList.model.task.Title;
import seedu.doerList.model.task.TodoTime;

/**
 * TaskBuilder to helper build a task
 */
public class TaskBuilder {

    private TestTask task;

    public TaskBuilder() {
        this.task = new TestTask();
    }

    public TaskBuilder withTitle(String title) throws IllegalValueException {
        this.task.setTitle(new Title(title));
        return this;
    }

    public TaskBuilder withCategories(String ... tags) throws IllegalValueException {
        for (String tag: tags) {
            task.getCategories().add(new Category(tag));
        }
        return this;
    }
    
    public TaskBuilder withCategories(Category ... categories) {
        for (Category category: categories) {
            try {
                task.getCategories().add(category);
            } catch (DuplicateCategoryException e) {
                // impossible
            };
        }
        return this;
    }
    
    public TaskBuilder withBuildInCategories(BuildInCategory ... categories) {
        for (BuildInCategory category: categories) {
            task.getBuildInCategories().add(category);
        }
        return this;
    }

    public TaskBuilder withDescription(String description) throws IllegalValueException {
        this.task.setDescription(new Description(description));
        return this;
    }

    public TaskBuilder withStartTime(String startTime) throws IllegalValueException {
        this.task.setStartTime(new TodoTime(startTime));
        return this;
    }
    
    public TaskBuilder withStartTime(DateTime startTime) throws IllegalValueException {
        this.task.setStartTime(new TodoTime(startTime));
        return this;
    }
    
    public TaskBuilder withEndTime(String endTime) throws IllegalValueException {
        this.task.setEndTime(new TodoTime(endTime));
        return this;
    }
    
    public TaskBuilder withEndTime(DateTime endTime) throws IllegalValueException {
        this.task.setEndTime(new TodoTime(endTime));
        return this;
    }

    public TestTask build() {
        return this.task;
    }
}
```
###### /java/seedu/doerList/testutil/TestCategory.java
``` java
package seedu.doerList.testutil;

import java.util.List;

import com.google.common.collect.Lists;

import seedu.doerList.commons.exceptions.IllegalValueException;
import seedu.doerList.model.category.BuildInCategory;

/**
 * TestCategory to compare the displayed data with actual data.
 * Used in GUI test
 */
public class TestCategory extends BuildInCategory {
    public List<TestTask> tasks;
    
    public int expectedNumTasks;

    public TestCategory(String name, int expected) throws IllegalValueException {
        super(name, null);
        this.expectedNumTasks = expected;
    }
    
    public TestCategory(String name, TestTask... tasks) throws IllegalValueException {
        super(name, null);
        this.tasks = Lists.newArrayList(tasks);
    }
    
    public void setExpectedNumTasks(int num) {
        expectedNumTasks = num;
    } 
    
    public void setTasks(TestTask... tasks) {
        this.tasks = Lists.newArrayList(tasks);
    }
    
    public List<TestTask> getPreDefinedTasks() {
        return this.tasks;
    }
}
```
###### /java/seedu/doerList/testutil/TestTask.java
``` java
    @Override
    public void addBuildInCategory(BuildInCategory category) {
        buildInCategories.add(category);
    }

```
###### /java/seedu/doerList/testutil/TestTask.java
``` java
    @Override
    public void removeBuildInCategory(BuildInCategory category) {
        buildInCategories.remove(category);      
    }

    @Override
    public String toString() {
        return getAsText();
    }

```
###### /java/seedu/doerList/testutil/TestTask.java
``` java
    public String getAddCommand() {
        StringBuffer cmd = new StringBuffer();

        cmd.append(AddCommand.COMMAND_WORD);
        cmd.append(" /t ").append(this.getTitle()).append(" ");

        if (this.hasDescription()) {
            cmd.append("/d ").append(this.getDescription()).append(" ");
        }

        if (!this.isFloatingTask()) {
            if (this.hasStartTime()) {
                cmd.append("/s ");
                cmd.append(this.getStartTime()).append(" ");
            }
            if (this.hasEndTime()) {
                cmd.append("/e ");
                cmd.append(this.getEndTime()).append(" ");
            }
        }

        UniqueCategoryList categories = this.getCategories();
        if (!categories.getInternalList().isEmpty()) {
            for(Category c: categories){
                cmd.append("/c " + c.categoryName + " ");
            }
        }

        return cmd.toString();
    }
    
```
###### /java/seedu/doerList/testutil/TestTask.java
``` java
    public String getEditCommand(int index) {
        return this.getAddCommand().replace(AddCommand.COMMAND_WORD, EditCommand.COMMAND_WORD + " " + index + " ");
    }


}
```
###### /java/seedu/doerList/testutil/TypicalTestTasks.java
``` java
    public TypicalTestTasks() {
        try {
            task1 = new TaskBuilder().withTitle("Lecture Quiz 1").withDescription("Do your homework 4")
                    .withStartTime(new DateTime().withHourOfDay(8).withMinuteOfHour(0).minusDays(3))
                    .withEndTime(new DateTime().withHourOfDay(12).withMinuteOfHour(0).minusDays(3))
                    .withBuildInCategories(BuildInCategoryList.COMPLETE)
                    .build(); // task due several days complete
            task2 = new TaskBuilder().withTitle("Guide CA2").withDescription("Do your homework 2 Math")
                    .withEndTime(new DateTime().withHourOfDay(12).withMinuteOfHour(0).minusDays(1)) // task due yesterdays
                    .withCategories("CS2101", "CS2103").build();
            task3 =  new TaskBuilder().withTitle("CA1 Guide").withDescription("Do your homework 1")
                    .withStartTime(new DateTime().withHourOfDay(8).withMinuteOfHour(0))
                    .withCategories("CS2101").build(); // task today
            task4 = new TaskBuilder().withTitle("Lecture Quiz 2").withDescription("Do your homework 5")
                    .withStartTime(new DateTime().withHourOfDay(8).withMinuteOfHour(0))
                    .withEndTime(new DateTime().withHourOfDay(12).withMinuteOfHour(0)).withCategories("MA1101R")
                    .withBuildInCategories(BuildInCategoryList.COMPLETE).build(); // task today complete
            task5 = new TaskBuilder().withTitle("Guide Tutorial")
                    .withStartTime(new DateTime().withHourOfDay(8).withMinuteOfHour(0).plusDays(1))
                    .withEndTime(new DateTime().withHourOfDay(12).withMinuteOfHour(0).plusDays(1))
                    .withBuildInCategories(BuildInCategoryList.COMPLETE).build(); // task tomorrow complete
            task6 = new TaskBuilder().withTitle("Guide Math").withDescription("Do your homework 3")
                    .withEndTime(new DateTime().withHourOfDay(12).withMinuteOfHour(0).plusDays(3)).build(); // task next 7 days
            task7 = new TaskBuilder().withTitle("Math Test").withDescription("Hello").build(); // inbox
            task8 = new TaskBuilder().withTitle("Math Test 2")
                    .withBuildInCategories(BuildInCategoryList.COMPLETE)
                    .build(); // inbox complete
            
            //Manually added
            task9 = new TaskBuilder().withTitle("Lecture Quiz 0").withDescription("pre-course reflection")
                    .withStartTime(new DateTime().withHourOfDay(8).withMinuteOfHour(0).minusDays(2))
                    .withEndTime(new DateTime().withHourOfDay(12).withMinuteOfHour(0).minusDays(2)).withCategories("Urgent")
                    .build(); // task due yesterday
            task10 = new TaskBuilder().withTitle("Do quiz 1").withDescription("quiz 1")
                    .withEndTime(new DateTime().withHourOfDay(15).withMinuteOfHour(0))
                    .withCategories("CS2103").build(); // task today
            task11 = new TaskBuilder().withTitle("Do quiz 2").withDescription("quiz 2")
                    .withStartTime(new DateTime().withHourOfDay(16).withMinuteOfHour(0).plusDays(1)).build(); // task tomorrow
            task12 = new TaskBuilder().withTitle("Hai Long's Birthday").withDescription("Bring Gift")
                    .withCategories("Life")
                    .build(); // inbox
            
        } catch (IllegalValueException e) {
            e.printStackTrace();
            assert false : "not possible";
        }
    }

    public static void loadDoerListWithSampleData(DoerList ab) {
        try {
            ab.addTask(new Task(task1));
            ab.addTask(new Task(task2));
            ab.addTask(new Task(task3));
            ab.addTask(new Task(task4));
            ab.addTask(new Task(task5));
            ab.addTask(new Task(task6));
            ab.addTask(new Task(task7));
            ab.addTask(new Task(task8));
        } catch (UniqueTaskList.DuplicateTaskException e) {
            assert false : "not possible";
        }
    }

    public DoerList getTypicalDoerList(){
        DoerList ab = new DoerList();
        loadDoerListWithSampleData(ab);
        return ab;
    }
}
```
